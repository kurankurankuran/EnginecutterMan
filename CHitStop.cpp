//=============================================================================
//
// ヒットストップ処理 [pause.cpp]
// Author : KAZUKI KURA
//
//=============================================================================
#include "CHitStop.h"
#include "Sound.h"

//*****************************************************************************
// マクロ定義
//*****************************************************************************

//*****************************************************************************
// プロトタイプ宣言
//*****************************************************************************

//*****************************************************************************
// グローバル変数
//*****************************************************************************
namespace {
	CHitStop g_HitStop;
}
CHitStop::CHitStop()
{
	Init();
}

CHitStop::~CHitStop()
{
	Uninit();
}

//=============================================================================
// 初期化処理
//=============================================================================
HRESULT CHitStop::Init(void)
{
	ID3D11Device* pDevice = GetDevice();
	HRESULT hr = S_OK;

	m_bStopflg = false;
	m_nTimer = 0;
	
	// 効果音初期化
	/*g_pSE_Select = CreateSound(SE_SELECT_PATH);
*/
	return hr;
}

//=============================================================================
// 終了処理
//=============================================================================
void CHitStop::Uninit(void)
{
	
}

//=============================================================================
// 更新処理
//=============================================================================
void CHitStop::Update(void)
{
	if (m_bStopflg) {
		--m_nTimer;
		if (m_nTimer < 0) {
			m_bStopflg = false;
			}
	}
}

//=============================================================================
// 描画処理
//=============================================================================
void CHitStop::Draw(void)
{

}

//=============================================================================
// フラグと時間セット処理処理
//=============================================================================
void CHitStop::HitStopOn(int nTime) //int型で時間指定
{
	m_nTimer = nTime;
	m_bStopflg = true;
}

bool CHitStop::GetHitStopflg(void)
{
	return m_bStopflg;
}

CHitStop* CHitStop::Get() 
{
	return &g_HitStop;
}